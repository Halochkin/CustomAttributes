<test-html test="navigation/GET-simple.html">
  <script expected>
    [["sunshine", "_self"]]
  </script>
</test-html>

<test-html test="navigation/GET-query.html">
  <script expected>
    [["a=a1&a=a2&a=a3%3Ba4%3Ba5&b=%3Ch3+name%3D%22b%22%3Ebob%3C%2Fh3%3E#sunshine", "_self"]]
  </script>
</test-html>

<test-html test="navigation/POST-query.html">
  <script expected>
    [
      ["a", "a1"],
      ["a", "a2"],
      ["a", "a3;a4;a5"],
      ["b", "<h3 name=\"b\">bob</h3>"]
    ]
  </script>
</test-html>

<test-html test="navigation/pushstate-query.html">
  <script expected>
    ["?a=a1&a=a2&a=a3%3Ba4%3Ba5&b=%3Ch3+name%3D%22b%22%3Ebob%3C%2Fh3%3E#bob"]
  </script>
</test-html>

<test-html test="navigation/ajax-query.html">
  <script expected>
    [{"a": ["a1", "a2", "a3;a4;a5"], "b": "<h3 name=\"b\">bob</h3>"}]
  </script>
</test-html>

<test-html test="navigation/get_json.html">
  <script expected>[[
    ["1", ["https://httpbin.org/anything?hello=sunshine", "GET", {"hello": "sunshine"}, "", {}]],
    ["2", ["https://httpbin.org/anything", "POST", {}, "", {"hello":["sunshine","sunshine"]}]],
    ["3", ["https://httpbin.org/anything", "POST", {}, "hello=sunshine", {}]]
  ]]</script>
</test-html>

<test-html test="navigation/get.html">
  <script expected>[
    ["https://example.com/bob/sideisy/bob?hello=sunshine&sunshine=hello#sunshine", "_self"]
  ]</script>
</test-html>

<test-html test="navigation/get_history.html">
  <script expected>[
    "data:text/html;charset=utf-8,%3Cbase%20href%3D'http%3A%2F%2Flocalhost%3A5001%2Ftest%2Fnavigation%2Fget_history.html'%2F%3E%3Cscript%3E_TestHTML_id%3D17%3B(function%20consoleLogMonkey()%20%7B%0A%20%20console.log%20%3D%20function%20consoleLogMonkey(...args)%20%7B%0A%20%20%20%20return%20parent.postMessage(JSON.stringify(%5B_TestHTML_id%2C%20...args%5D)%2C%20'*')%3B%0A%20%20%7D%0A%7D)()%3B%3C%2Fscript%3E%3Cscript%20src%3D%22https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Forstavik%2Fparse%40v1.0.1%2Fparse.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Forstavik%2FElementObserver%2FconstructionFrame.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Forstavik%2FcustomEvents%400.1.3%2Fsrc%2FcustomEventsSync.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22..%2F..%2Fsrc%2FcustomAttributes.js%22%3E%3C%2Fscript%3E%0A%0A%3Ch1%20get-click%3D%22%23sunshine%22%3Ehello%20sunshine%3C%2Fh1%3E%0A%0A%3Cscript%20type%3D%22module%22%3E%0A%20%20import%20%7BGET_history_Attr%7D%20from%20%22..%2F..%2Fsrc%2Fattributes%2FAjaxAttr.js%22%3B%0A%0A%20%20customAttributes.define(%22get%22%2C%20GET_history_Attr)%3B%0A%0A%20%20console.log(location.href)%3B%0A%20%20window.addEventListener(%22popstate%22%2C%20e%20%3D%3E%20console.log(location.href))%3B%0A%20%20const%20h1%20%3D%20document.querySelector(%22h1%22)%3B%0A%20%20h1.click()%3B%0A%3C%2Fscript%3E",
    
    "data:text/html;charset=utf-8,%3Cbase%20href%3D'http%3A%2F%2Flocalhost%3A5001%2Ftest%2Fnavigation%2Fget_history.html'%2F%3E%3Cscript%3E_TestHTML_id%3D17%3B(function%20consoleLogMonkey()%20%7B%0A%20%20console.log%20%3D%20function%20consoleLogMonkey(...args)%20%7B%0A%20%20%20%20return%20parent.postMessage(JSON.stringify(%5B_TestHTML_id%2C%20...args%5D)%2C%20'*')%3B%0A%20%20%7D%0A%7D)()%3B%3C%2Fscript%3E%3Cscript%20src%3D%22https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Forstavik%2Fparse%40v1.0.1%2Fparse.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Forstavik%2FElementObserver%2FconstructionFrame.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22https%3A%2F%2Fcdn.jsdelivr.net%2Fgh%2Forstavik%2FcustomEvents%400.1.3%2Fsrc%2FcustomEventsSync.js%22%3E%3C%2Fscript%3E%0A%3Cscript%20src%3D%22..%2F..%2Fsrc%2FcustomAttributes.js%22%3E%3C%2Fscript%3E%0A%0A%3Ch1%20get-click%3D%22%23sunshine%22%3Ehello%20sunshine%3C%2Fh1%3E%0A%0A%3Cscript%20type%3D%22module%22%3E%0A%20%20import%20%7BGET_history_Attr%7D%20from%20%22..%2F..%2Fsrc%2Fattributes%2FAjaxAttr.js%22%3B%0A%0A%20%20customAttributes.define(%22get%22%2C%20GET_history_Attr)%3B%0A%0A%20%20console.log(location.href)%3B%0A%20%20window.addEventListener(%22popstate%22%2C%20e%20%3D%3E%20console.log(location.href))%3B%0A%20%20const%20h1%20%3D%20document.querySelector(%22h1%22)%3B%0A%20%20h1.click()%3B%0A%3C%2Fscript%3E#sunshine"
  ]</script>
</test-html>

<!-- Note!! You must load the test-html component at the end -->
<script src="https://cdn.jsdelivr.net/gh/orstavik/TestHTML@v1.0.3/TestHTML.js"></script>