<!DOCTYPE html>

<h1 no-click>
  <span on-click="helloSunshine">hello</span>
</h1>

<script type="module">
  import {} from "https://cdn.jsdelivr.net/gh/orstavik/customEvents@0.1.0/src/Event.defaultAction.js";
  import {} from "https://cdn.jsdelivr.net/gh/orstavik/customEvents@0.1.0/src/customEvents.js";

  import {upgradeAttributes} from "../../src/customAttributes.js";
  import {PreventAttr} from "../../src/attributes/PreventAttr.js";
  import {OnAttr} from "../../src/attributes/OnAttr.js";

  customAttributes.define("no", PreventAttr, {sync: true});
  customAttributes.define("on", OnAttr);

  upgradeAttributes(...document.querySelectorAll("*"));

  const span = document.querySelector("span");
  span.helloSunshine = _ => console.log("default action should not be visible")
  span.click();

  setTimeout(_ => console.log("only sunshine"), 20);
</script>