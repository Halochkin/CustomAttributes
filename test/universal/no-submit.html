<!DOCTYPE html>

<form action="shouldNeverHappen.html" no-submit on-submit="helloSunshine">
  <input type="text" name="hello" value="sunshine">
</form>

<script type="module">
  import {upgradeAttributes} from "../../src/customGlobalHandlerAttributes.js";

  upgradeAttributes(...document.querySelectorAll("*"));
  const form = document.querySelector("form");
  form.helloSunshine = function (e) {
    console.log("hello sunshine " + e.type + (+e.defaultPrevented));
  }

  form.requestSubmit();
  setTimeout(() => console.log("more sunshine"), 20);
</script>